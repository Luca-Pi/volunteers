package org.example.volunteers;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class PhoneConverter {
  private static List<Integer> phones = new ArrayList<>(List.of(
      93,
      27,
      355,
      213,
      49,
      376,
      244,
      1264,
      1268,
      966,
      54,
      374,
      297,
      247,
      61,
      43,
      994,
      1242,
      973,
      880,
      1246,
      32,
      501,
      229,
      1441,
      975,
      375,
      95,
      591,
      387,
      267,
      55,
      673,
      359,
      226,
      257,
      855,
      237,
      1,
      238,
      1345,
      236,
      56,
      86,
      357,
      57,
      269,
      243,
      242,
      682,
      850,
      82,
      506,
      225,
      385,
      53,
      599,
      45,
      246,
      253,
      1767,
      20,
      971,
      593,
      291,
      34,
      372,
      251,
      298,
      679,
      358,
      33,
      241,
      220,
      995,
      233,
      350,
      30,
      1473,
      299,
      590,
      1671,
      502,
      224,
      240,
      245,
      592,
      594,
      509,
      504,
      852,
      36,
      91,
      62,
      964,
      98,
      353,
      354,
      972,
      39,
      1876,
      81,
      962,
      7,
      254,
      996,
      686,
      383,
      965,
      856,
      266,
      371,
      961,
      231,
      218,
      423,
      370,
      352,
      853,
      389,
      261,
      60,
      265,
      960,
      223,
      500,
      356,
      1670,
      212,
      692,
      596,
      230,
      222,
      262,
      52,
      691,
      373,
      377,
      976,
      382,
      1664,
      258,
      264,
      674,
      977,
      505,
      227,
      234,
      683,
      47,
      687,
      64,
      968,
      256,
      998,
      92,
      680,
      970,
      507,
      675,
      595,
      31,
      51,
      63,
      48,
      689,
      351,
      974,
      40,
      44,
      250,
      1869,
      290,
      1758,
      378,
      508,
      1784,
      677,
      503,
      685,
      1684,
      239,
      221,
      381,
      248,
      232,
      65,
      421,
      386,
      252,
      249,
      211,
      94,
      46,
      41,
      597,
      268,
      963,
      992,
      255,
      886,
      235,
      420,
      672,
      66,
      670,
      228,
      690,
      676,
      1868,
      216,
      993,
      1649,
      90,
      688,
      380,
      598,
      678,
      58,
      1340,
      1284,
      84,
      681,
      967,
      260,
      263,
      881,
      882
  ));

  public static boolean hasPrefixeIndicatorValid(String str){
    if(str.startsWith("+")) {
      str = str.substring(1);

      // black magic right there !
      String finalStr = str;

      return phones.stream().anyMatch(n -> {
        return finalStr.startsWith(String.valueOf(n));
      });
    }else {
      return false;
    }
  }
}
